# Настройка Source Control (Changes) в VS Code и Cursor

Чтобы в левой панели **Source Control** (VS Code) / **Changes** (Cursor) после коммита автоматически выполнялись правильные шаги без конфликтов.

---

## Что уже настроено в проекте

В папке **.vscode/settings.json** задано:

| Настройка | Значение | Что делает |
|-----------|----------|------------|
| **git.autofetch** | `true` | В фоне подтягивает изменения с GitHub — видно, когда `origin/main` впереди. |
| **git.postCommitCommand** | `"sync"` | Сразу после коммита из панели запускается **Sync** (pull, затем push). |
| **git.confirmSync** | `false` | Sync выполняется без лишнего подтверждения. |

То есть: нажимаешь **Commit** в Source Control / Changes → делается коммит → автоматически выполняется **Sync** (подтянуть с GitHub и отправить свои коммиты).

---

## Одна команда один раз (чтобы не было лишних merge-коммитов)

Чтобы при Sync использовался **rebase** вместо merge (меньше конфликтов и лишних коммитов), в корне репозитория выполни **один раз**:

```bash
cd /home/produser/my-fullstack-app
git config pull.rebase true
```

После этого Sync будет делать по сути: `git pull --rebase` затем `git push`.

---

## Как пользоваться в редакторе

1. **Перед работой** (по желанию): в Source Control нажми **⋯** → **Pull** или убедись, что нет входящих изменений (авто-fetch уже показывает расхождение с `origin`).
2. Меняешь код — изменения появляются в **Source Control / Changes**.
3. Нажимаешь **+** у файлов (Stage) или **+** у "Changes" (stage all).
4. Пишешь сообщение коммита в поле вверху и нажимаешь **Commit** (или галочку).
5. Сразу после коммита редактор сам запускает **Sync** (pull затем push). Если на GitHub уже есть новые коммиты, они подтянутся (rebase), потом твой коммит отправится. Если появятся конфликты — редактор покажет, их нужно будет разрешить и снова закоммитить/Sync.

Так и в **VS Code**, и в **Cursor** в этом проекте будет одна и та же логика: коммит → автоматический Sync на продакшен-ветку (pull + push).
